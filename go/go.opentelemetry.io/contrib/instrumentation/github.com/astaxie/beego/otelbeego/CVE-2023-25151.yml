---
identifier: "CVE-2023-25151"
identifiers:
- "GHSA-5r5m-65gx-7vrh"
- "CVE-2023-25151"
package_slug: "go/go.opentelemetry.io/contrib/instrumentation/github.com/astaxie/beego/otelbeego"
title: "Uncontrolled Resource Consumption"
description: "opentelemetry-go-contrib is a collection of extensions for OpenTelemetry-Go.
  The v0.38.0 release of `go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp`
  uses the `httpconv.ServerRequest` function to annotate metric measurements for the
  `http.server.request_content_length`, `http.server.response_content_length`, and
  `http.server.duration` instruments. The `ServerRequest` function sets the `http.target`
  attribute value to be the whole request URI (including the query string)[^1]. The
  metric instruments do not \"forget\" previous measurement attributes when `cumulative`
  temporality is used, this means the cardinality of the measurements allocated is
  directly correlated with the unique URIs handled. If the query string is constantly
  random, this will result in a constant increase in memory allocation that can be
  used in a denial-of-service attack. This issue has been addressed in version 0.39.0.
  Users are advised to upgrade. There are no known workarounds for this issue."
date: "2023-02-08"
pubdate: "2023-02-08"
affected_range: ">=0.38.0 <0.39.0"
fixed_versions:
- "0.39.0"
affected_versions: "All versions starting from 0.38.0 before 0.39.0"
not_impacted: "All versions before 0.38.0, all versions starting from 0.39.0"
solution: "Upgrade to version 0.39.0 or above."
urls:
- "https://github.com/open-telemetry/opentelemetry-go-contrib/security/advisories/GHSA-5r5m-65gx-7vrh"
- "https://nvd.nist.gov/vuln/detail/CVE-2023-25151"
- "https://github.com/open-telemetry/opentelemetry-go/blob/v1.12.0/semconv/internal/v2/http.go#L159"
- "https://github.com/advisories/GHSA-5r5m-65gx-7vrh"
uuid: "4b522268-1bda-49e2-8e15-a2d58b48dad4"
cwe_ids:
- "CWE-1035"
- "CWE-400"
- "CWE-937"

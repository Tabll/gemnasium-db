---
identifier: "CVE-2023-47108"
identifiers:
- "GHSA-8pgv-569h-w5rw"
- "CVE-2023-47108"
package_slug: "go/go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc"
title: "otelgrpc DoS vulnerability due to unbound cardinality metrics "
description: "OpenTelemetry-Go Contrib is a collection of third-party packages for
  OpenTelemetry-Go. Prior to version 0.46.0, the grpc Unary Server Interceptor out
  of the box adds labels `net.peer.sock.addr` and `net.peer.sock.port` that have unbound
  cardinality. It leads to the server's potential memory exhaustion when many malicious
  requests are sent. An attacker can easily flood the peer address and port for requests.
  Version 0.46.0 contains a fix for this issue. As a workaround to stop being affected,
  a view removing the attributes can be used. The other possibility is to disable
  grpc metrics instrumentation by passing `otelgrpc.WithMeterProvider` option with
  `noop.NewMeterProvider`."
date: "2023-11-12"
pubdate: "2023-11-12"
affected_range: "<0.46.0"
fixed_versions:
- "0.46.0"
affected_versions: "All versions before 0.46.0"
not_impacted: "All versions starting from 0.46.0"
solution: "Upgrade to version 0.46.0 or above."
urls:
- "https://github.com/open-telemetry/opentelemetry-go-contrib/security/advisories/GHSA-8pgv-569h-w5rw"
- "https://nvd.nist.gov/vuln/detail/CVE-2023-47108"
- "https://github.com/open-telemetry/opentelemetry-go-contrib/pull/4322"
- "https://github.com/open-telemetry/opentelemetry-go-contrib/commit/b44dfc9092b157625a5815cb437583cee663333b"
- "https://github.com/open-telemetry/opentelemetry-go-contrib/blob/9d4eb7e7706038b07d33f83f76afbe13f53d171d/instrumentation/google.golang.org/grpc/otelgrpc/interceptor.go#L327"
- "https://github.com/open-telemetry/opentelemetry-go-contrib/blob/instrumentation/google.golang.org/grpc/otelgrpc/v0.45.0/instrumentation/google.golang.org/grpc/otelgrpc/config.go#L138"
- "https://pkg.go.dev/go.opentelemetry.io/otel/metric/noop#NewMeterProvider"
- "https://github.com/advisories/GHSA-8pgv-569h-w5rw"
uuid: "63b47989-9e41-4ce5-8fa9-80fb1fb1faed"
cwe_ids:
- "CWE-1035"
- "CWE-937"

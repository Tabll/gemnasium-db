---
identifier: "CVE-2020-17522"
package_slug: "go/github.com/apache/trafficcontrol/traffic_ops/traffic_ops_golang/login"
title: "Incorrect Permission Assignment for Critical Resource"
description: "When ORT (now via atstccfg) generates `ip_allow.config` files in Apache
  Traffic Control to to, those files include permissions that allow bad actors to
  push arbitrary content into and remove arbitrary content from CDN cache servers.
  Additionally, these permissions are potentially extended to IP addresses outside
  the desired range, resulting in them being granted to clients possibly outside the
  CDN arcitechture."
date: "2021-01-30"
pubdate: "2021-01-26"
affected_range: ">=v3.0.0 <=v3.1.0 || >=v4.0.0 <=v4.1.0"
fixed_versions:
- "v4.1.1"
- "v5.0.0"
affected_versions: "All versions starting from 3.0.0 up to 3.1.0, all versions starting
  from 4.0.0 up to 4.1.0"
not_impacted: "All versions before 3.0.0, all versions after 3.1.0 before 4.0.0, all
  versions after 4.1.0"
solution: "Upgrade to version v4.1.1, v5.0.0, or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2020-17522"
- "https://lists.apache.org/thread.html/r3de212a3da73bcf98fa2db7eafb75b2eb8e131ff466e6efc4284df09%40%3Cdev.trafficcontrol.apache.org%3E"
cvss_v2: "AV:N/AC:L/Au:N/C:N/I:P/A:N"
cvss_v3: "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:N/I:L/A:N"
uuid: "847c74b6-ba23-4c5c-9787-aabf87be4a3b"
versions:
- number: "v3.0.0"
  commit:
    tags:
    - "RELEASE-3.0.0"
    sha: "24ac838d13a8fc760885b1bdcb022178e4871032"
    timestamp: "20190213161814"
- number: "v3.1.0"
  commit:
    tags:
    - "RELEASE-3.1.0"
    sha: "5eef859b7e0401ced777b3433bb2f6b8335a476f"
    timestamp: "20191031170640"
- number: "v4.0.0"
  commit:
    tags:
    - "RELEASE-4.0.0"
    sha: "98802631b45228160ae7fd18f31edcba7740dad5"
    timestamp: "20200210212917"
- number: "v4.1.0"
  commit:
    tags:
    - "RELEASE-4.1.0"
    sha: "d62974d45a0a8c9191d361e0b71a06667847d3d8"
    timestamp: "20200610223859"

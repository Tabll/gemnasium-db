---
identifier: "GHSA-q6hv-wcjr-wp8h"
identifiers:
- "GHSA-q6hv-wcjr-wp8h"
package_slug: "go/github.com/kcp-dev/kcp"
title: "kcp is missing update validation allows arbitrary LogicalCluster status patches
  through initializingworkspaces Virtual Workspace"
description: "Because UPDATE validation is not being applied, it is possible for an
  actor with access to an instance of the [initializingworkspaces virtual workspace](https://docs.kcp.io/kcp/latest/concepts/workspaces/workspace-initialization/)
  to run arbitrary patches on the status field of `LogicalCluster` objects while the
  workspace is initializing.\n\nThis allows to add or remove any initializers as well
  as changing the phase of a `LogicalCluster` (to \"Ready\" for example).\n\nAs this
  effectively allows to skip certain initializers or the entire initialization phase,
  potential integrations with external systems such as billing or security could be
  affected. Their initializers could be skipped by a `WorkspaceType` that adds another
  initializer and grants permissions to the virtual workspace to a rogue or compromised
  entity.\n\n_Who is impacted?_\n\n* Impacts other owners of `WorkspaceTypes` with
  initializers that are inherited by other `WorkspaceTypes`.\n* Impacts developers
  using the `virtual/framework` package to create their own virtualworkspaces if they
  are using UpdateFuncs in their custom storageWrappers."
date: "2025-09-26"
pubdate: "2025-09-26"
affected_range: "<0.28.3"
fixed_versions:
- "0.28.3"
affected_versions: "All versions before 0.28.3"
not_impacted: "All versions starting from 0.28.3"
solution: "Upgrade to version 0.28.3 or above."
urls:
- "https://github.com/advisories/GHSA-q6hv-wcjr-wp8h"
- "https://github.com/kcp-dev/kcp/security/advisories/GHSA-q6hv-wcjr-wp8h"
- "https://github.com/kcp-dev/kcp/pull/3599"
- "https://github.com/kcp-dev/kcp/commit/02134a2a51d33652ab288cccd7a13539b59c7584"
- "https://github.com/kcp-dev/kcp"
- "https://github.com/kcp-dev/kcp/releases/tag/v0.28.3"
uuid: "3fece248-0503-48e5-a91c-84fef8a6b9dd"
cwe_ids:
- "CWE-285"
- "CWE-937"
- "CWE-1035"

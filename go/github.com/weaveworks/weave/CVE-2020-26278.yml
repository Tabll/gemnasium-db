---
identifier: "CVE-2020-26278"
package_slug: "go/github.com/weaveworks/weave"
title: "Execution with Unnecessary Privileges"
description: "Weave Net is open source software which creates a virtual network that
  connects Docker containers across multiple hosts and enables their automatic discovery.
  Weave Net has a vulnerability in which can allow an attacker to take over any host
  in the cluster. Weave Net is supplied with a manifest that runs pods on every node
  in a Kubernetes cluster, which are responsible for managing network connections
  for all other pods in the cluster. This requires a lot of power over the host, and
  the manifest sets `privileged: true`, which gives it that power. It also set `hostPID:
  true`, which gave it the ability to access all other processes on the host, and
  write anywhere in the root filesystem of the host. This setting was not necessary,
  and is being removed. You are only vulnerable if you have an additional vulnerability
  (e.g. a bug in Kubernetes) or misconfiguration that allows an attacker to run
  code inside the Weave Net pod, No such bug is known at the time of release, and
  there are no known instances of this being exploited. Weave Net removes the hostPID
  setting and moves CNI plugin install to an init container. Users who do not update
  to can edit the hostPID line in their existing DaemonSet manifest to say false instead
  of true, arrange some other way to install CNI plugins (e.g. Ansible) and remove
  those mounts from the DaemonSet manifest."
date: "2021-02-02"
pubdate: "2021-01-20"
affected_range: "<v2.8.0"
fixed_versions:
- "v2.8.0"
affected_versions: "All versions before v2.8.0"
not_impacted: "All versions starting from v2.8.0"
solution: "Upgrade to version v2.8.0 or higher"
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2020-26278"
cvss_v2: "AV:A/AC:M/Au:N/C:C/I:C/A:C"
cvss_v3: "CVSS:3.1/AV:A/AC:H/PR:L/UI:N/S:C/C:H/I:H/A:H"
uuid: "338cdc59-1620-427c-bd6a-bbc53409d58e"
versions:
- number: "v2.8.0"
  commit:
    tags:
    - "v2.8.0"
    sha: "2f987a1d307864a7e16a57cf8dc3b8e0b9bb73df"
    timestamp: "20210118145121"

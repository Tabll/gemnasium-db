---
identifier: "CVE-2023-32683"
identifiers:
- "CVE-2023-32683"
- "GHSA-98px-6486-j7qc"
package_slug: "pypi/matrix-synapse"
title: "Server-Side Request Forgery (SSRF)"
description: "Synapse is a Matrix protocol homeserver written in Python with the Twisted
  framework. A discovered oEmbed or image URL can bypass the `url_preview_url_block
  list` setting potentially allowing server side request forgery or bypassing network
  policies. Impact is limited to IP addresses allowed by the `url_preview_ip_range_block
  list` setting (by default this only allows public IPs) and by the limited information
  returned to the client: 1. For discovered oEmbed URLs, any non-JSON response or
  a JSON response which includes non-oEmbed information is discarded. 2. For discovered
  image URLs, any non-image response is discarded. Systems which have URL preview
  disabled (via the `url_preview_enabled` setting) or have not configured a `url_preview_url_block
  list` are not affected. This issue has been addressed in version 1.85.0. Users are
  advised to upgrade. User unable to upgrade may also disable URL previews."
date: "2023-06-17"
pubdate: "2023-06-06"
affected_range: "<1.85.0"
fixed_versions:
- "1.85.0"
affected_versions: "All versions before 1.85.0"
not_impacted: "All versions starting from 1.85.0"
solution: "Upgrade to version 1.85.0 or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2023-32683"
- "https://github.com/matrix-org/synapse/security/advisories/GHSA-98px-6486-j7qc"
- "https://github.com/matrix-org/synapse/pull/15601"
cvss_v3: "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:N"
uuid: "cc863049-f259-4115-baf5-d9daee3e9db6"
cwe_ids:
- "CWE-1035"
- "CWE-863"
- "CWE-937"

---
identifier: "CVE-2024-35196"
identifiers:
- "CVE-2024-35196"
- "GHSA-c2g2-gx4j-rj3j"
package_slug: "pypi/sentry"
title: "Slack integration leaks sensitive information in logs"
description: "Sentry's Slack integration incorrectly records the incoming request
  body in logs. This request data can contain sensitive information, including the
  [deprecated Slack verification token](https://api.slack.com/authentication/verifying-requests-from-slack#deprecation).
  With this verification token, it is possible under specific configurations, an attacker
  can forge requests and act as the Slack integration.\n\nThe request body is leaked
  in log entries matching `event == \"slack.*\" && name == \"sentry.integrations.slack\"
  && request_data == *`. The deprecated slack verification token, will be found in
  the `request_data.token` key.\n\nExample event:\n\n```json\n{\n\"name\": \"sentry.integrations.slack\",\n\"level\":
  \"info\",\n\"event\": \"slack.event.message\",  # This could be any of the `slack.*`
  events\n\"request_data\": {"
date: "2024-06-02"
pubdate: "2024-06-02"
affected_range: ">=24.3.0,<24.5.0"
fixed_versions:
- "24.5.0"
affected_versions: "All versions starting from 24.3.0 before 24.5.0"
not_impacted: "All versions before 24.3.0, all versions starting from 24.5.0"
solution: "Upgrade to version 24.5.0 or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2024-35196"
- "https://github.com/advisories/GHSA-c2g2-gx4j-rj3j"
- "https://github.com/getsentry/sentry/security/advisories/GHSA-c2g2-gx4j-rj3j"
- "https://github.com/getsentry/sentry/pull/70508"
- "https://api.slack.com/authentication/verifying-requests-from-slack#app-management-updates"
- "https://api.slack.com/authentication/verifying-requests-from-slack#deprecation"
- "https://api.slack.com/authentication/verifying-requests-from-slack#regenerating"
- "https://develop.sentry.dev/integrations/slack"
- "https://github.com/getsentry/sentry"
- "https://github.com/getsentry/sentry/blob/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf/server.py#L1307"
cvss_v3: "CVSS:3.1/AV:N/AC:H/PR:H/UI:R/S:U/C:L/I:N/A:N"
uuid: "9e0bd1b5-6557-405a-b563-5b5483681167"
cwe_ids:
- "CWE-532"
- "CWE-937"
- "CWE-1035"

---
identifier: "CVE-2024-32971"
identifiers:
- "CVE-2024-32971"
- "GHSA-q9p4-hw9m-fj2v"
package_slug: "cargo/apollo-router"
title: "Apollo Router vulnerable to Critical Regression In Query Plan Cache"
description: "Any instance of Apollo Router 1.44.0 or 1.45.0 that is using Distributed
  Query Plan Caching is impacted. These versions were released on 2024-04-12 and 2024-04-22
  respectively.\n\nThe affected versions of Apollo Router contain a bug that could
  lead to unexpected operations being executed, which can result in unintended data
  or effects. This only affects Router instances configured to use distributed query
  plan caching. Router versions other than the ones listed above, and all Router deployments
  that are not using distributed query plan caching, are unaffected by this defect.\n\nIf
  you are using the affected versions, you can check your routerâ€™s configuration YAML
  to verify if you are impacted:\n\n\n```yaml\nsupergraph:\nquery_planning:\ncache:"
date: "2024-05-02"
pubdate: "2024-05-02"
affected_range: ">=1.44.0 <1.45.1"
fixed_versions:
- "1.45.1"
affected_versions: "All versions starting from 1.44.0 before 1.45.1"
not_impacted: "All versions before 1.44.0, all versions starting from 1.45.1"
solution: "Upgrade to version 1.45.1 or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2024-32971"
- "https://github.com/advisories/GHSA-q9p4-hw9m-fj2v"
- "https://github.com/apollographql/router/security/advisories/GHSA-q9p4-hw9m-fj2v"
- "https://github.com/apollographql/router/commit/ff9f666598cd17661880fe7fc6e9c9611316e529"
- "https://github.com/apollographql/router"
- "https://github.com/apollographql/router/releases/tag/v1.45.1"
- "https://www.apollographql.com/docs/router/configuration/distributed-caching/#distributed-query-plan-caching"
cvss_v3: "CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:C/C:H/I:H/A:H"
uuid: "7e719fea-a99b-4f51-9a37-4e2ce5fd325c"
cwe_ids:
- "CWE-440"
- "CWE-937"
- "CWE-1035"

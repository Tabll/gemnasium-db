---
identifier: "CVE-2024-28101"
identifiers:
- "CVE-2024-28101"
- "GHSA-cgqf-3cq5-wvcj"
package_slug: "cargo/apollo-router"
title: "Apollo Router's Compressed Payloads do not respect HTTP Payload Limits"
description: "The Apollo Router is a configurable, high-performance graph router written
  in Rust to run a federated supergraph that uses Apollo Federation. Affected versions
  are subject to a Denial-of-Service (DoS) type vulnerability. When receiving compressed
  HTTP payloads, affected versions of the Router evaluate the `limits.http_max_request_bytes`
  configuration option after the entirety of the compressed payload is decompressed.
  If affected versions of the Router receive highly compressed payloads, this could
  result in significant memory consumption while the compressed payload is expanded."
date: "2024-03-06"
pubdate: "2024-03-06"
affected_range: ">=0.9.5 <1.40.2"
fixed_versions:
- "1.40.2"
affected_versions: "All versions starting from 0.9.5 before 1.40.2"
not_impacted: "All versions before 0.9.5, all versions starting from 1.40.2"
solution: "Upgrade to version 1.40.2 or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2024-28101"
- "https://github.com/advisories/GHSA-cgqf-3cq5-wvcj"
- "https://github.com/apollographql/router/security/advisories/GHSA-cgqf-3cq5-wvcj"
- "https://github.com/apollographql/router/commit/9e9527c73c8f34fc8438b09066163cd42520f413"
- "https://github.com/apollographql/router"
cvss_v3: "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H"
uuid: "e013186c-5031-4ec3-8c4c-2aa311040abe"
cwe_ids:
- "CWE-409"
- "CWE-937"
- "CWE-1035"

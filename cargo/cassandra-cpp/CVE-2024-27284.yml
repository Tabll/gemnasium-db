---
identifier: "CVE-2024-27284"
identifiers:
- "CVE-2024-27284"
- "GHSA-x9xc-63hg-vcfq"
package_slug: "cargo/cassandra-cpp"
title: "cassandra-rs's non-idiomatic use of iterators leads to use after free"
description: "Code that attempts to use an item (e.g., a row) returned by an iterator
  after the iterator has advanced to the next item will be accessing freed memory
  and experience undefined behaviour. Code that uses the item and then advances the
  iterator is unaffected. This problem has always existed.\n\nThis is a use-after-free
  bug, so it's rated high severity. If your code uses a pre-3.0.0 version of cassandra-rs,
  and uses an item returned by a cassandra-rs iterator after calling `next()` on that
  iterator, then it is vulnerable. However, such code will almost always fail immediately
  - so we believe it is unlikely that any code using this pattern would have reached
  production. For peace of mind, we recommend you upgrade anyway."
date: "2024-04-05"
pubdate: "2024-04-05"
affected_range: "<3.0.0"
fixed_versions:
- "3.0.0"
affected_versions: "All versions before 3.0.0"
not_impacted: "All versions starting from 3.0.0"
solution: "Upgrade to version 3.0.0 or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2024-27284"
- "https://github.com/advisories/GHSA-x9xc-63hg-vcfq"
- "https://github.com/Metaswitch/cassandra-rs/security/advisories/GHSA-x9xc-63hg-vcfq"
- "https://github.com/Metaswitch/cassandra-rs/commit/ae054dc8044eac9c2c7ae2b1ab154b53ca7f8df7"
- "https://github.com/Metaswitch/cassandra-rs"
- "https://rustsec.org/advisories/RUSTSEC-2024-0017.html"
cvss_v3: "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H"
uuid: "3d46b27e-ef12-4649-9346-86fb7ee42be2"
cwe_ids:
- "CWE-416"
- "CWE-937"
- "CWE-1035"

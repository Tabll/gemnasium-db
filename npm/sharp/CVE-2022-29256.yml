---
identifier: "CVE-2022-29256"
identifiers:
- "GHSA-gp95-ppv5-3jc5"
- "CVE-2022-29256"
package_slug: "npm/sharp"
title: "Possible vulnerability in sharp at 'npm install' time if an attacker has control
  over build environment"
description: "sharp is an application for Node.js image processing. Prior to version
  0.30.5, there is a possible vulnerability in logic that is run only at `npm install`
  time when installing versions of `sharp` prior to the latest v0.30.5. If an attacker
  has the ability to set the value of the `PKG_CONFIG_PATH` environment variable in
  a build environment then they might be able to use this to inject an arbitrary command
  at `npm install` time. This is not part of any runtime code, does not affect Windows
  users at all, and is unlikely to affect anyone that already cares about the security
  of their build environment. This problem is fixed in version 0.30.5."
date: "2022-06-01"
pubdate: "2022-06-01"
affected_range: "<0.30.5"
fixed_versions:
- "0.30.5"
affected_versions: "All versions before 0.30.5"
not_impacted: "All versions starting from 0.30.5"
solution: "Upgrade to version 0.30.5 or above."
urls:
- "https://github.com/lovell/sharp/security/advisories/GHSA-gp95-ppv5-3jc5"
- "https://nvd.nist.gov/vuln/detail/CVE-2022-29256"
- "https://github.com/lovell/sharp/commit/a6aeef612be50f5868a77481848b1de674216f0c"
- "https://github.com/advisories/GHSA-gp95-ppv5-3jc5"
uuid: "e1857db8-1ba3-4d97-a1ff-b509fddfaf49"
cwe_ids:
- "CWE-1035"
- "CWE-937"

---
identifier: "CVE-2024-45037"
identifiers:
- "CVE-2024-45037"
- "GHSA-qj85-69xf-2vxq"
package_slug: "npm/aws-cdk"
title: "AWS CDK RestApi not generating authorizationScope correctly in resultant CFN
  template"
description: "The AWS Cloud Development Kit (CDK) is an open-source framework for
  defining cloud infrastructure using code. Customers use it to create their own applications
  which are converted to AWS CloudFormation templates during deployment to a customerâ€™s
  AWS account. CDK contains pre-built components called \"constructs\" that are higher-level
  abstractions providing defaults and best practices. This approach enables developers
  to use familiar programming languages to define complex cloud infrastructure more
  efficiently than writing raw CloudFormation templates.\n\nWe identified an issue
  in AWS Cloud Development Kit (CDK) which, under certain conditions, can result in
  granting authenticated Amazon Cognito users broader than intended access. Specifically,
  if a CDK application uses the \"RestApi\" construct with \"CognitoUserPoolAuthorizer\"
  as the authorizer and uses authorization scopes to limit access. This issue does
  not affect the availability of the specific API resources."
date: "2024-08-27"
pubdate: "2024-08-27"
affected_range: ">=2.142.0 <2.148.1"
fixed_versions:
- "2.148.1"
affected_versions: "All versions starting from 2.142.0 before 2.148.1"
not_impacted: "All versions before 2.142.0, all versions starting from 2.148.1"
solution: "Upgrade to version 2.148.1 or above."
urls:
- "https://nvd.nist.gov/vuln/detail/CVE-2024-45037"
- "https://github.com/advisories/GHSA-qj85-69xf-2vxq"
- "https://github.com/aws/aws-cdk/security/advisories/GHSA-qj85-69xf-2vxq"
- "https://github.com/aws/aws-cdk/commit/4bee768f07e73ab5fe466f9ad3d1845456a0513b"
- "https://github.com/aws/aws-cdk"
- "https://github.com/aws/aws-cdk/releases/tag/v2.148.1"
cvss_v3: "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N"
uuid: "9e91e90e-0171-4700-8370-bdbac7072102"
cwe_ids:
- "CWE-863"
- "CWE-937"
- "CWE-1035"

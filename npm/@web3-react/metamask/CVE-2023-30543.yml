---
identifier: "CVE-2023-30543"
identifiers:
- "GHSA-8pf3-6fgr-3g3g"
- "CVE-2023-30543"
package_slug: "npm/@web3-react/metamask"
title: "Concurrent Execution using Shared Resource with Improper Synchronization ('Race
  Condition')"
description: "@web3-react is a framework for building Ethereum Apps . In affected
  versions the `chainId` may be outdated if the user changes chains as part of the
  connection flow. This means that the value of `chainId` returned by `useWeb3React()`
  may be incorrect. In an application, this means that any data derived from `chainId`
  could be incorrect. For example, if a swapping application derives a wrapped token
  contract address from the `chainId` *and* a user has changed chains as part of their
  connection flow the application could cause the user to send funds to the incorrect
  address when wrapping. This issue has been addressed in PR #749 and is available
  in updated npm artifacts. There are no known workarounds for this issue. Users are
  advised to upgrade.\n\n\n"
date: "2023-04-18"
pubdate: "2023-04-18"
affected_range: ">=6.0.0 <8.0.30-beta.0"
fixed_versions:
- "8.0.30-beta.0"
affected_versions: "All versions starting from 6.0.0 before 8.0.30-beta.0"
not_impacted: "All versions before 6.0.0, all versions starting from 8.0.30-beta.0"
solution: "Upgrade to version 8.0.30-beta.0 or above. *Note*: 8.0.30-beta.0 may be
  an unstable version. Use caution."
urls:
- "https://github.com/Uniswap/web3-react/security/advisories/GHSA-8pf3-6fgr-3g3g"
- "https://nvd.nist.gov/vuln/detail/CVE-2023-30543"
- "https://github.com/Uniswap/web3-react/pull/749"
- "https://github.com/advisories/GHSA-8pf3-6fgr-3g3g"
uuid: "583848dd-80c2-4545-9b12-48e885edee25"
cwe_ids:
- "CWE-1035"
- "CWE-362"
- "CWE-937"
...
